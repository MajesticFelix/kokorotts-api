# KokoroTTS API - Cloud/Production Configuration
# Rate limiting enabled with Redis for distributed deployment

#==========================================
# CLOUD PRODUCTION SETTINGS
#==========================================

RATE_LIMITING_ENABLED=true
DEPLOYMENT_MODE=cloud
DEBUG=false
LOG_LEVEL=INFO

# Production rate limits
RATE_LIMIT_REQUESTS_PER_MINUTE=30
RATE_LIMIT_REQUESTS_PER_HOUR=200
RATE_LIMIT_REQUESTS_PER_DAY=1000

# Character limits for abuse prevention
RATE_LIMIT_MAX_CHARS_PER_REQUEST=5000
RATE_LIMIT_CHARS_PER_HOUR=50000
RATE_LIMIT_CHARS_PER_DAY=200000

# Concurrent request limits
RATE_LIMIT_MAX_CONCURRENT=3

# Redis for distributed rate limiting
RATE_LIMIT_USE_REDIS=true
REDIS_URL=redis://redis:6379/0

# Security settings
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
TRUST_PROXY_HEADERS=true

# Production TTS limits
MAX_TEXT_LENGTH=50000
DEFAULT_LANGUAGE=a
VOICE_CACHE_DURATION=3600

# Performance settings
MAX_WORKERS=4
REQUEST_TIMEOUT=300

# Rate limiting penalties
RATE_LIMIT_VIOLATION_PENALTY=60
RATE_LIMIT_MAX_VIOLATIONS_PER_HOUR=10

# API Key Authentication (enabled for production)
API_KEY_AUTHENTICATION=true
API_KEY_REQUIRED=false  # Optional - allows graceful fallback to IP limits
API_KEY_DATABASE_URL=postgresql://kokoro:password@postgres:5432/kokorotts
API_KEY_ADMIN_ENABLED=true

# API Key Rate Limits (higher than IP-based)
API_KEY_REQUESTS_PER_MINUTE=100
API_KEY_REQUESTS_PER_HOUR=1000
API_KEY_REQUESTS_PER_DAY=10000
API_KEY_MAX_CHARS_PER_REQUEST=10000
API_KEY_CHARS_PER_HOUR=100000
API_KEY_CHARS_PER_DAY=500000
API_KEY_MAX_CONCURRENT=5