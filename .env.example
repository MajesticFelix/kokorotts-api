# KokoroTTS API Environment Configuration
# Copy this file to .env and customize for your deployment

# =================================
# Application Configuration
# =================================

# Server settings
HOST=0.0.0.0
PORT=8000
WORKERS=2
LOG_LEVEL=info
RELOAD=false
DEBUG=false

# =================================
# KokoroTTS Configuration
# =================================

# Device configuration (cpu, cuda, auto)
KOKORO_DEVICE=cpu

# Model and cache directories
KOKORO_CACHE_DIR=/app/cache
KOKORO_MODEL_DIR=/app/models

# Model download settings
KOKORO_REPO_ID=hexgrad/Kokoro-82M
KOKORO_AUTO_DOWNLOAD=true

# Audio generation settings
KOKORO_DEFAULT_VOICE=af_heart
KOKORO_DEFAULT_LANGUAGE=a
KOKORO_DEFAULT_FORMAT=mp3
KOKORO_DEFAULT_SPEED=1.0

# Memory management
KOKORO_MEMORY_LIMIT_MB=1024
KOKORO_BATCH_SIZE=5
KOKORO_MAX_TEXT_LENGTH=10000

# =================================
# Security Configuration
# =================================

# API Authentication (optional)
# API_KEY_ENABLED=false
# API_KEY=your-secret-api-key-here
# API_KEY_HEADER=X-API-Key

# Rate limiting (requests per minute)
# RATE_LIMIT_ENABLED=false
# RATE_LIMIT_PER_MINUTE=60
# RATE_LIMIT_BURST=10

# CORS settings
CORS_ENABLED=true
CORS_ORIGINS=*
CORS_METHODS=GET,POST,OPTIONS
CORS_HEADERS=*

# =================================
# Database Configuration (Optional)
# =================================

# Redis cache (optional)
# REDIS_ENABLED=false
# REDIS_URL=redis://redis:6379/0
# REDIS_TTL=3600

# Database for analytics (optional)
# DATABASE_URL=sqlite:///app/data/analytics.db
# DATABASE_POOL_SIZE=5

# =================================
# Monitoring and Logging
# =================================

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=8001
METRICS_PATH=/metrics

# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Logging configuration
LOG_FORMAT=json
LOG_FILE=/app/logs/kokorotts.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# Sentry error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn-here
# SENTRY_ENVIRONMENT=production

# =================================
# Performance Tuning
# =================================

# Threading and concurrency
OMP_NUM_THREADS=2
MKL_NUM_THREADS=2
TORCH_NUM_THREADS=2

# Memory optimization
PYTHONMALLOC=malloc
MALLOC_ARENA_MAX=2

# CUDA settings (for GPU deployment)
# CUDA_VISIBLE_DEVICES=0
# NVIDIA_VISIBLE_DEVICES=all
# NVIDIA_DRIVER_CAPABILITIES=compute,utility

# =================================
# Development Settings
# =================================

# Development mode (only for development)
# DEVELOPMENT=false
# DEVELOPMENT_RELOAD=false
# DEVELOPMENT_DEBUG_PORT=5678

# Test configuration
# TEST_MODE=false
# TEST_VOICE=af_heart
# TEST_TEXT=Hello, this is a test.

# =================================
# Cloud and Deployment
# =================================

# Container configuration
CONTAINER_NAME=kokorotts-api
CONTAINER_TIMEZONE=UTC

# Load balancer settings (for multiple instances)
# INSTANCE_ID=1
# STICKY_SESSIONS=false

# File storage (for model persistence)
# STORAGE_TYPE=local
# STORAGE_PATH=/app/models
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# =================================
# SSL/TLS Configuration
# =================================

# SSL settings (for production)
# SSL_ENABLED=false
# SSL_CERT_PATH=/etc/ssl/certs/cert.pem
# SSL_KEY_PATH=/etc/ssl/private/key.pem
# SSL_CA_PATH=/etc/ssl/certs/ca.pem

# =================================
# Proxy and Networking
# =================================

# Reverse proxy configuration
# PROXY_HEADERS=true
# FORWARDED_ALLOW_IPS=*
# TRUSTED_HOSTS=localhost,127.0.0.1

# Network settings
# NETWORK_TIMEOUT=30
# KEEP_ALIVE_TIMEOUT=5

# =================================
# Feature Flags
# =================================

# Optional features
STREAMING_ENABLED=true
CAPTIONS_ENABLED=true
VOICE_BLENDING_ENABLED=true
BATCH_PROCESSING_ENABLED=true

# Beta features (experimental)
# VOICE_CLONING_ENABLED=false
# CUSTOM_MODELS_ENABLED=false
# WEBHOOK_NOTIFICATIONS_ENABLED=false